{% extends 'base.html' %}

{% block titulo_conteudo %}
Detalhes do Pedido
{% endblock %}

{% block conteudo %}

<h5>Pedido Nº {{ pedido.id }}</h5>
<p><b>Cliente:</b> {{ pedido.cliente }}</p>
<p><b>Status:</b> {{ pedido.get_status_display }}</p>
<p><b>Data:</b> {{ pedido.data }}</p>

<hr>

<h5>Adicionar Item</h5>

<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button class="btn btn-primary">Adicionar</button>
</form>

<hr>

<h5>Itens do Pedido</h5>

<table class="table table-bordered">
    <tr>
        <th>Produto</th>
        <th>Quantidade</th>
        <th>Valor</th>
        <th>Subtotal</th>
    </tr>

    {% for item in itens %}
    <tr>
        <td>{{ item.produto }}</td>
        <td>{{ item.quantidade }}</td>
        <td>{{ item.valor }}</td>
        <td>{{ item.quantidade|floatformat:0|add:""|floatformat }} × {{ item.valor }}</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
